# Тестовое задание 

## Непосредственно, задание

Написать API для каталога товаров. Возможные действия:
- Получение списка всех категорий
- Получение списка товаров в конкретной категории
- Авторизация пользователей
- Добавление/Редактирование/Удаление категории (для авторизованных пользователей)
- Добавление/Редактирование/Удаление товара (для авторизованных пользователей)

## Запуск проекта

1. Создайте базу данных в postgres. Выполните на ней запросы, хранящиеся в файле
   `a.sql`.

2. Создайте файл `.env` в корне проекта и добавте в него следующие переменные:
    - PORT: Порт, на котором будет работать приложение. 
    - DB_URL: Строка для подключения к базе данных. 

3. Соберите проект и запустите его.

    ```console
    $ make build
    $ ./bin/app
    ```

## Маршруты 

### `POST /register`

Регистрация по BasicAuth. Принимает в теле запроса поля `Name` и `Password`. Все
остальные маршруты требуют хедер `Authorization: Basic <"Name:Password", base64>`

### `GET /categories`

Получение списка категорий.

### `GET /categories/{id}`

Получение списка товаров, которые относятся к категории `id`.

### `POST /categories`

Создание новой категории. Принимает в теле запроса поле `title`. Требует
авторизации.

### `PUT /categories/{id}`

Изменяет название категории `id`. Принимает в теле запроса поле `title`. Требует
авторизации.

### `DELETE /categories/{id}`

Удаляет категорию `id`. Требует авторизации. 

### `POST /items`

Создание нового товара. Принимает в теле запроса поля `title (string)` и
`categories ([]int)`. Требует авторизации. 

### `PUT /items/{id}`

Изменяет товар `id`. Принимает в теле запроса поля `title (string)` и
`categories ([]int)`. Требует авторизации.

### `DELETE /items/{id}`

Удаляет товар `id`. Требует авторизации.

## Получение списка товаров 

В приложении реализован модуль `scraper`. Его задача раз в час получать данные
по ссылке `https://emojihub.yurace.pro/api/all` и добавляет из в базу данных. 

## Затраченное время на разработку 

На маршруты ушло около 5 часов, на модуль `scraper` - около 3 часа. 
